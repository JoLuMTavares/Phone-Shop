{"ast":null,"code":"import _regeneratorRuntime from \"/home/devugees/Desktop/reactjs/quiz/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/devugees/Desktop/reactjs/quiz/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/devugees/Desktop/reactjs/quiz/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/devugees/Desktop/reactjs/quiz/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/devugees/Desktop/reactjs/quiz/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/devugees/Desktop/reactjs/quiz/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/devugees/Desktop/reactjs/quiz/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/devugees/Desktop/reactjs/quiz/src/components/Quiz.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Group from './Group';\nimport { Consumer } from '../Context';\nimport Veridict from '../pages/Veridict'; // JSX\n\nvar Quiz =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Quiz, _Component);\n\n  function Quiz(props) {\n    var _this;\n\n    _classCallCheck(this, Quiz);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Quiz).call(this, props));\n    _this.state = {\n      currentIndex: '',\n      rightAnswers: '',\n      wrongAnswers: '',\n      finalResult: '',\n      finalVeridict: {\n        id: 0,\n        veridict: ''\n      },\n      completed: false\n    };\n    _this.state.currentIndex = 0;\n    _this.state.rightAnswers = 0;\n    _this.state.wrongAnswers = 0;\n    _this.state.finalResult = 0;\n    return _this;\n  }\n  /* This function handles the each group of the quiz.\n      Each time the next button is pressed, the current\n      Index of the question is updated. This goes until\n      the last one.\n   */\n\n\n  _createClass(Quiz, [{\n    key: \"handleNextBlock\",\n    value: function handleNextBlock(passed, event) {\n      event.preventDefault();\n\n      if (passed) {\n        var value = this.state.rightAnswers + 1;\n        console.log(value);\n        this.setState({\n          rightAnswers: this.state.rightAnswers + 1\n        });\n      }\n\n      this.setState({\n        currentIndex: this.currentIndex + 1\n      });\n    }\n    /* \n     The final stage. When the last question is answered and the\n     user did press the nex button, this will act. It will\n     calculate the percentage of success. Based on that,\n     it will load the right veridict. This will be shown to the user.\n    */\n\n  }, {\n    key: \"componentDidUpdate\",\n    value: function () {\n      var _componentDidUpdate = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var calculation, choice, difference, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(this.state.currentIndex === 14)) {\n                  _context.next = 16;\n                  break;\n                }\n\n                // Getting the result of the quiz. This will be shonw as a percentage\n                calculation = Math.round(this.stage.rightAnswers / 15 * 100, 2);\n                choice = 0; // Now all the conditions to apply the right value to the choice.\n\n                if (calculation > 0 && calculation < 25) choice = 1;else if (calculation >= 25 && calculation < 35) choice = 2;else if (calculation >= 35 && calculation < 45) choice = 3;else if (calculation >= 45 && calculation < 56, 5) choice = 4;else if (calculation >= 56, 5 && calculation < 73) choice = 5;else if (calculation >= 73 && calculation < 80) choice = 6;else if (calculation >= 80 && calculation < 95) choice = 7;else if (calculation >= 95 && calculation < 100) choice = 8;else choice = 9;\n                difference = 15 - this.stage.rightAnswers;\n                _context.prev = 5;\n                _context.next = 8;\n                return axios.get('http://localhost:1024/loadveridict/' + choice);\n\n              case 8:\n                response = _context.sent;\n                console.log(response);\n                this.setState({\n                  finalVeridict: response.data.evaluation,\n                  completed: true,\n                  wrongAnswers: difference,\n                  finalResult: calculation\n                });\n                _context.next = 16;\n                break;\n\n              case 13:\n                _context.prev = 13;\n                _context.t0 = _context[\"catch\"](5);\n                console.log(_context.t0);\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[5, 13]]);\n      }));\n\n      return function componentDidUpdate() {\n        return _componentDidUpdate.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, function (content) {\n        var groups = content.groups; // console.log(groups);\n\n        return React.createElement(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"main-column\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, React.createElement(Group, {\n          key: groups[_this2.state.currentIndex].id,\n          id: groups[_this2.state.currentIndex].id,\n          image: groups[_this2.state.currentIndex].image,\n          question: groups[_this2.state.currentIndex].question,\n          group: groups[_this2.state.currentIndex],\n          nextGroupHandler: function nextGroupHandler() {\n            return _this2.handleNextBlock();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"end-page\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, _this2.state.finalResult !== 0 ? React.createElement(Veridict, {\n          key: \"1\",\n          id: \"1\",\n          rightAnswers: _this2.state.rightAnswers,\n          wrongAnswers: _this2.state.wrongAnswers,\n          finalResult: _this2.state.finalResult,\n          veridict: _this2.state.finalVeridict.veridict,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }) : null));\n      });\n    }\n  }]);\n\n  return Quiz;\n}(Component);\n\nexport default Quiz;","map":{"version":3,"sources":["/home/devugees/Desktop/reactjs/quiz/src/components/Quiz.js"],"names":["React","Component","axios","Group","Consumer","Veridict","Quiz","props","state","currentIndex","rightAnswers","wrongAnswers","finalResult","finalVeridict","id","veridict","completed","passed","event","preventDefault","value","console","log","setState","calculation","Math","round","stage","choice","difference","get","response","data","evaluation","content","groups","image","question","handleNextBlock"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,QAAT,QAAyB,YAAzB;AAEA,OAAOC,QAAP,MAAqB,mBAArB,C,CAEA;;IAEMC,I;;;;;AAaJ,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8EAAMA,KAAN;AADiB,UAZnBC,KAYmB,GAZX;AACNC,MAAAA,YAAY,EAAE,EADR;AAENC,MAAAA,YAAY,EAAE,EAFR;AAGNC,MAAAA,YAAY,EAAE,EAHR;AAINC,MAAAA,WAAW,EAAE,EAJP;AAKNC,MAAAA,aAAa,EAAE;AACbC,QAAAA,EAAE,EAAE,CADS;AAEbC,QAAAA,QAAQ,EAAE;AAFG,OALT;AASNC,MAAAA,SAAS,EAAE;AATL,KAYW;AAEjB,UAAKR,KAAL,CAAWC,YAAX,GAA0B,CAA1B;AACA,UAAKD,KAAL,CAAWE,YAAX,GAA0B,CAA1B;AACA,UAAKF,KAAL,CAAWG,YAAX,GAA0B,CAA1B;AACA,UAAKH,KAAL,CAAWI,WAAX,GAAyB,CAAzB;AALiB;AAMlB;AAED;;;;;;;;;oCAKgBK,M,EAAQC,K,EAAO;AAC7BA,MAAAA,KAAK,CAACC,cAAN;;AACA,UAAIF,MAAJ,EAAY;AACV,YAAIG,KAAK,GAAG,KAAKZ,KAAL,CAAWE,YAAX,GAA0B,CAAtC;AACAW,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,aAAKG,QAAL,CAAc;AACZb,UAAAA,YAAY,EAAE,KAAKF,KAAL,CAAWE,YAAX,GAA0B;AAD5B,SAAd;AAGD;;AAED,WAAKa,QAAL,CAAc;AACZd,QAAAA,YAAY,EAAE,KAAKA,YAAL,GAAoB;AADtB,OAAd;AAGD;AAED;;;;;;;;;;;;;;;;;;sBAQM,KAAKD,KAAL,CAAWC,YAAX,KAA4B,E;;;;;AAC9B;AACIe,gBAAAA,W,GAAcC,IAAI,CAACC,KAAL,CAAY,KAAKC,KAAL,CAAWjB,YAAX,GAA0B,EAA3B,GAAiC,GAA5C,EAAiD,CAAjD,C;AACdkB,gBAAAA,M,GAAS,C,EACb;;AACA,oBAAIJ,WAAW,GAAG,CAAd,IAAmBA,WAAW,GAAG,EAArC,EAAyCI,MAAM,GAAG,CAAT,CAAzC,KACK,IAAIJ,WAAW,IAAI,EAAf,IAAqBA,WAAW,GAAG,EAAvC,EAA2CI,MAAM,GAAG,CAAT,CAA3C,KACA,IAAIJ,WAAW,IAAI,EAAf,IAAqBA,WAAW,GAAG,EAAvC,EAA2CI,MAAM,GAAG,CAAT,CAA3C,KACA,IAAKJ,WAAW,IAAI,EAAf,IAAqBA,WAAW,GAAG,EAAnC,EAAuC,CAA5C,EAAgDI,MAAM,GAAG,CAAT,CAAhD,KACA,IAAKJ,WAAW,IAAI,EAAf,EAAmB,KAAKA,WAAW,GAAG,EAA3C,EAAgDI,MAAM,GAAG,CAAT,CAAhD,KACA,IAAIJ,WAAW,IAAI,EAAf,IAAqBA,WAAW,GAAG,EAAvC,EAA2CI,MAAM,GAAG,CAAT,CAA3C,KACA,IAAIJ,WAAW,IAAI,EAAf,IAAqBA,WAAW,GAAG,EAAvC,EAA2CI,MAAM,GAAG,CAAT,CAA3C,KACA,IAAIJ,WAAW,IAAI,EAAf,IAAqBA,WAAW,GAAG,GAAvC,EAA4CI,MAAM,GAAG,CAAT,CAA5C,KACAA,MAAM,GAAG,CAAT;AAEDC,gBAAAA,U,GAAa,KAAK,KAAKF,KAAL,CAAWjB,Y;;;uBAIRR,KAAK,CAAC4B,GAAN,CACrB,wCAAwCF,MADnB,C;;;AAAjBG,gBAAAA,Q;AAGNV,gBAAAA,OAAO,CAACC,GAAR,CAAYS,QAAZ;AAEA,qBAAKR,QAAL,CAAc;AACZV,kBAAAA,aAAa,EAAEkB,QAAQ,CAACC,IAAT,CAAcC,UADjB;AAEZjB,kBAAAA,SAAS,EAAE,IAFC;AAGZL,kBAAAA,YAAY,EAAEkB,UAHF;AAIZjB,kBAAAA,WAAW,EAAEY;AAJD,iBAAd;;;;;;;AAOAH,gBAAAA,OAAO,CAACC,GAAR;;;;;;;;;;;;;;;;6BAaG;AAAA;;AACP,aACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,UAAAY,OAAO,EAAI;AACV,YAAIC,MAAM,GAAGD,OAAO,CAACC,MAArB,CADU,CAEV;;AACA,eACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAIE;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,KAAD;AACE,UAAA,GAAG,EAAEA,MAAM,CAAC,MAAI,CAAC3B,KAAL,CAAWC,YAAZ,CAAN,CAAgCK,EADvC;AAEE,UAAA,EAAE,EAAEqB,MAAM,CAAC,MAAI,CAAC3B,KAAL,CAAWC,YAAZ,CAAN,CAAgCK,EAFtC;AAGE,UAAA,KAAK,EAAEqB,MAAM,CAAC,MAAI,CAAC3B,KAAL,CAAWC,YAAZ,CAAN,CAAgC2B,KAHzC;AAIE,UAAA,QAAQ,EAAED,MAAM,CAAC,MAAI,CAAC3B,KAAL,CAAWC,YAAZ,CAAN,CAAgC4B,QAJ5C;AAKE,UAAA,KAAK,EAAEF,MAAM,CAAC,MAAI,CAAC3B,KAAL,CAAWC,YAAZ,CALf;AAME,UAAA,gBAAgB,EAAE;AAAA,mBAAM,MAAI,CAAC6B,eAAL,EAAN;AAAA,WANpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CAJF,EAcE;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG,MAAI,CAAC9B,KAAL,CAAWI,WAAX,KAA2B,CAA3B,GACC,oBAAC,QAAD;AACE,UAAA,GAAG,EAAC,GADN;AAEE,UAAA,EAAE,EAAC,GAFL;AAGE,UAAA,YAAY,EAAE,MAAI,CAACJ,KAAL,CAAWE,YAH3B;AAIE,UAAA,YAAY,EAAE,MAAI,CAACF,KAAL,CAAWG,YAJ3B;AAKE,UAAA,WAAW,EAAE,MAAI,CAACH,KAAL,CAAWI,WAL1B;AAME,UAAA,QAAQ,EAAE,MAAI,CAACJ,KAAL,CAAWK,aAAX,CAAyBE,QANrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADD,GASG,IAVN,CAdF,CADF;AA6BD,OAjCH,CADF;AAqCD;;;;EAnIgBd,S;;AAsInB,eAAeK,IAAf","sourcesContent":["import React, { Component } from 'react';\n\nimport axios from 'axios';\n\nimport Group from './Group';\nimport { Consumer } from '../Context';\n\nimport Veridict from '../pages/Veridict';\n\n// JSX\n\nclass Quiz extends Component {\n  state = {\n    currentIndex: '',\n    rightAnswers: '',\n    wrongAnswers: '',\n    finalResult: '',\n    finalVeridict: {\n      id: 0,\n      veridict: ''\n    },\n    completed: false\n  };\n\n  constructor(props) {\n    super(props);\n    this.state.currentIndex = 0;\n    this.state.rightAnswers = 0;\n    this.state.wrongAnswers = 0;\n    this.state.finalResult = 0;\n  }\n\n  /* This function handles the each group of the quiz.\n      Each time the next button is pressed, the current\n      Index of the question is updated. This goes until\n      the last one.\n   */\n  handleNextBlock(passed, event) {\n    event.preventDefault();\n    if (passed) {\n      let value = this.state.rightAnswers + 1;\n      console.log(value);\n      this.setState({\n        rightAnswers: this.state.rightAnswers + 1\n      });\n    }\n\n    this.setState({\n      currentIndex: this.currentIndex + 1\n    });\n  }\n\n  /* \n   The final stage. When the last question is answered and the\n   user did press the nex button, this will act. It will\n   calculate the percentage of success. Based on that,\n   it will load the right veridict. This will be shown to the user.\n*/\n  async componentDidUpdate() {\n    // Checking if the last question was answered\n    if (this.state.currentIndex === 14) {\n      // Getting the result of the quiz. This will be shonw as a percentage\n      let calculation = Math.round((this.stage.rightAnswers / 15) * 100, 2);\n      let choice = 0;\n      // Now all the conditions to apply the right value to the choice.\n      if (calculation > 0 && calculation < 25) choice = 1;\n      else if (calculation >= 25 && calculation < 35) choice = 2;\n      else if (calculation >= 35 && calculation < 45) choice = 3;\n      else if ((calculation >= 45 && calculation < 56, 5)) choice = 4;\n      else if ((calculation >= 56, 5 && calculation < 73)) choice = 5;\n      else if (calculation >= 73 && calculation < 80) choice = 6;\n      else if (calculation >= 80 && calculation < 95) choice = 7;\n      else if (calculation >= 95 && calculation < 100) choice = 8;\n      else choice = 9;\n\n      let difference = 15 - this.stage.rightAnswers;\n\n      try {\n        // Sending the request with the choice as the identifier for the veridict\n        const response = await axios.get(\n          'http://localhost:1024/loadveridict/' + choice\n        );\n        console.log(response);\n\n        this.setState({\n          finalVeridict: response.data.evaluation,\n          completed: true,\n          wrongAnswers: difference,\n          finalResult: calculation\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    /*    else {\n      let cIndex = this.state.currentIndex + 1;\n      console.log(cIndex);\n      this.setState({\n        currentIndex: cIndex\n      });\n    }\n    */\n  }\n\n  render() {\n    return (\n      <Consumer>\n        {content => {\n          let groups = content.groups;\n          // console.log(groups);\n          return (\n            <React.Fragment>\n              {/* <h1 className=\"display-5 mb-2\">\n                <span className=\"text-danger\">Contact</span> List\n              </h1> */}\n              <div className=\"main-column\">\n                <Group\n                  key={groups[this.state.currentIndex].id}\n                  id={groups[this.state.currentIndex].id}\n                  image={groups[this.state.currentIndex].image}\n                  question={groups[this.state.currentIndex].question}\n                  group={groups[this.state.currentIndex]}\n                  nextGroupHandler={() => this.handleNextBlock()}\n                />\n              </div>\n              <div className=\"end-page\">\n                {this.state.finalResult !== 0 ? (\n                  <Veridict\n                    key=\"1\"\n                    id=\"1\"\n                    rightAnswers={this.state.rightAnswers}\n                    wrongAnswers={this.state.wrongAnswers}\n                    finalResult={this.state.finalResult}\n                    veridict={this.state.finalVeridict.veridict}\n                  />\n                ) : null}\n              </div>\n            </React.Fragment>\n          );\n        }}\n      </Consumer>\n    );\n  }\n}\n\nexport default Quiz;\n"]},"metadata":{},"sourceType":"module"}